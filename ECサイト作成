ECサイト作成

アプリケーションID
dj0zaiZpPVJwV3BVUUhJSGViYyZzPWNvbnN1bWVyc2VjcmV0Jng9YTc-



top
・検索フォームの配置
ー１フォームの配置　top.jsp			済
ー２searchボタンの配置　GET top.jsp	済
ー３未入力ならエラー　search.java		済

search
概要　検索ページ結果
仕様
１top画面より遷移						済
２YahooショッピングAPIに直接キーワードを渡す。
　結果を受け取り表示する。  
３検索ワード・検索結果数を表示 serach.jsp
４タテのリスト型に表示
５サムネイルとその横に商品名、金額を記載
６サムネイルをクリックするとitemへ遷移
７結果は上位２０位圏まで表示

*検索サンプル
https://shopping.yahooapis.jp/ShoppingWebService/V1/itemSearch
?appid=dj0zaiZpPVJwV3BVUUhJSGViYyZzPWNvbnN1bWVyc2VjcmV0Jng9YTc-
&query=vaio 

検索条件：vaio

item 
概要　商品詳細ページ
１searchまたはcartから遷移できる。商品IDをGETメソッドにより受け渡す。
２YahooショッピングAPIから取得したデータで、より詳細な情報(概要や評価)が表示される
３「カートに追加する」ボタンがあり、クリックするとaddに遷移する。
◎表示するデータ
・価格
・ポイント
・メーカー
・販売開始
・レビュー
ー評価値
ーカウント数
ーURL
・説明
・在庫あり・なし
・コンディション　新品・中古

add
カート追加ページ
１商品の情報を受け取り、クッキーやセッションに追加する
２画面には「カートに追加しました」という文言が出てくる。

//login
ログインしていない場合
・各ページ
  →login.jsp（パスワード入力ページ＆新規会員登録リンク）
  chkLogin.javaー成功：ログイン管理できるセッションに書き込み・直前で閲覧していたページへ移動
  				ー失敗：Err.jspに遷移ーログインに失敗しましたと表示
 ログインしている場合
 ・各ページ
 　→loginChk.java-クッキー・セッションの破棄
　
・ログイン管理ページ
・どのページからも遷移できる
・ログインしていない状態で遷移してきた場合は、ユーザ名とパスワードを入力する
　フォームが表示される。また、「新規会員登録」というリンクも表示される
・ログインに成功すると、その情報をログイン管理できるセッションに書き込み、
　そのまま直前で閲覧していたページに遷移する。
・ログインしている状態で（各ページの”ログアウト”というリンクから）遷移してきた場合は
　ログアウト処理を行う（セッションの破棄、クッキーに保存されたセッションIDを破棄）
　その後topへ
・ユーザーデータの削除フラグが1の場合は削除されたユーザーとして処理すること



//巨大なソースコードの反省点
１セッションをうまく利用する
２リクエストスコープか、セッションどっちかに方法を絞っておく
３各ページに戻るボタンをつける
４保守性に関して、、、方法を統一する。データの受け渡しなど。。。
５検索結果の一覧表示に対応する。
